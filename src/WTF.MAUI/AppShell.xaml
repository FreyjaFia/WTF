<?xml version="1.0" encoding="UTF-8" ?>
<Shell
    x:Class="WTF.MAUI.AppShell"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:WTF.MAUI"
    xmlns:views="clr-namespace:WTF.MAUI.Views"
    Title="WTF.MAUI"
    BackgroundColor="#FCF8F1"
    Shell.FlyoutBehavior="Flyout">

    <!--  Loading Page (Initial page shown during startup)  -->
    <ShellContent
        Title="Loading"
        ContentTemplate="{DataTemplate views:LoadingPage}"
        Route="loading"
        Shell.FlyoutItemIsVisible="False"
        Shell.TabBarIsVisible="False" />

    <!--  Login Page (No Tab Bar, No Flyout)  -->
    <ShellContent
        Title="Login"
        ContentTemplate="{DataTemplate views:LoginPage}"
        Route="login"
        Shell.FlyoutItemIsVisible="False"
        Shell.TabBarIsVisible="False" />

    <!--  Main TabBar (Bottom Navigation)  -->
    <TabBar>
        <!--  New Order Tab  -->
        <Tab Title="New Order">
            <Tab.Icon>
                <FontImageSource FontFamily="MaterialIconsOutlined" Glyph="&#xe7b3;" />
            </Tab.Icon>
            <ShellContent ContentTemplate="{DataTemplate views:OrderFormPage}" Route="new-order" />
        </Tab>

        <!--  Orders Tab  -->
        <Tab Title="Orders">
            <Tab.Icon>
                <FontImageSource FontFamily="MaterialIconsOutlined" Glyph="&#xeb14;" />
            </Tab.Icon>
            <ShellContent ContentTemplate="{DataTemplate views:OrderPage}" Route="orders" />
        </Tab>
    </TabBar>

    <!--  Flyout Header  -->
    <Shell.FlyoutHeader>
        <Grid
            Padding="20"
            BackgroundColor="#FCF8F1"
            HeightRequest="100">
            <VerticalStackLayout VerticalOptions="Center">
                <Label
                    FontAttributes="Bold"
                    FontSize="24"
                    Text="WTF"
                    TextColor="#1F1F1F" />
            </VerticalStackLayout>
        </Grid>
    </Shell.FlyoutHeader>

    <!--  Flyout Footer (Secondary Actions)  -->
    <Shell.FlyoutFooter>
        <Grid Padding="20" BackgroundColor="#FCF8F1">
            <Border
                Padding="0"
                BackgroundColor="Transparent"
                Stroke="Transparent"
                StrokeThickness="0">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnLogoutTapped" />
                </Border.GestureRecognizers>
                <HorizontalStackLayout Spacing="12" VerticalOptions="Center">
                    <Label
                        FontFamily="MaterialIconsOutlined"
                        FontSize="24"
                        Text="&#xe9ba;"
                        TextColor="#1F1F1F"
                        VerticalOptions="Center" />
                    <Label
                        FontSize="16"
                        Text="Logout"
                        TextColor="#1F1F1F"
                        VerticalOptions="Center" />
                </HorizontalStackLayout>
            </Border>
        </Grid>
    </Shell.FlyoutFooter>
</Shell>
